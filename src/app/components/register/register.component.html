<mat-toolbar color="primary" class="mat-elevation-z8">
  <mat-toolbar-row>
    <a routerLink="" class="button-link"><button style="font-size: 1.2rem;" mat-button>
        <mat-icon svgIcon="atom" style="margin-right: 7px;"></mat-icon>Atom
      </button>
    </a>
    <h1 style="margin-left: 10px;" fxHide.xs>Inregistrare cont utilizator</h1>
    <span class="spacer" fxFlex="auto"></span>
    <a routerLink="/login" class="button-link">
      <button mat-icon-button matTooltip="Conectare la contul meu" matTooltipShowDelay="1000">
        <mat-icon>account_circle</mat-icon>
      </button>
    </a>
    <a routerLink="/reset-password" class="button-link">
      <button mat-icon-button matTooltip="Mi-am uitat parola" matTooltipShowDelay="1000">
        <mat-icon>vpn_key</mat-icon>
      </button>
    </a>
  </mat-toolbar-row>
</mat-toolbar>

<div class="main-container" ngStyle.lt-md="width: 100%; padding: 0">
  <form [formGroup]="profileForm" ngClass.gt-sm="mat-elevation-z4" ngStyle.lt-sm="padding: 20px" (ngSubmit)="onSubmit()" novalidate>
    <p>Toate campurile sunt obligatorii.</p>
    <mat-form-field appearance="outline" hideRequiredMarker>
      <mat-label>Nume</mat-label>
      <input formControlName="lastName" type="text" matInput placeholder="Ex: Popescu" required />
      <mat-icon class="okay-check" *ngIf="lastName.valid" matSuffix>done</mat-icon>
      <mat-error *ngIf="lastName.invalid && lastName.touched">{{getFieldError(lastName)}}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" hideRequiredMarker>
      <mat-label>Prenume</mat-label>
      <input formControlName="firstName" type="text" matInput placeholder="Ex: Ion-George" required />
      <mat-icon class="okay-check" *ngIf="firstName.valid" matSuffix>done</mat-icon>
      <mat-error *ngIf="firstName.invalid && firstName.touched">{{getFieldError(firstName)}}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" hideRequiredMarker>
      <mat-label>Nume utilizator</mat-label>
      <input formControlName="username" type="text" matInput required />
      <mat-spinner *ngIf="username.pending" [diameter]="25" matSuffix></mat-spinner>
      <mat-icon class="okay-check" *ngIf="username.valid" matSuffix>done</mat-icon>
      <mat-hint>Vezi formatul cerut <u style="cursor: pointer" #tooltip1="matTooltip" (click)="tooltip1.show()"
          matTooltip="Numele de utilizator trebuie sa fie compus din cel putin 5 caractere si trebuie sa contina numai caractere alfabetice, numerice si/sau caracterul 'underscore' ('_')">aici</u>
      </mat-hint>
      <mat-error *ngIf="username.invalid && username.touched">{{getFieldError(username)}}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" hideRequiredMarker>
      <mat-label>Adresa email</mat-label>
      <input formControlName="email" type="email" matInput placeholder="Ex: ion.george@gmail.com" required />
      <mat-spinner *ngIf="email.pending" [diameter]="25" matSuffix></mat-spinner>
      <mat-icon class="okay-check" *ngIf="email.valid" matSuffix>done</mat-icon>
      <mat-error *ngIf="email.invalid && email.touched">{{getFieldError(email)}}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" hideRequiredMarker>
      <mat-label>Parola</mat-label>
      <input formControlName="password" type='password' matInput required />
      <mat-icon class="okay-check" *ngIf="password.valid" matSuffix>done</mat-icon>
      <mat-hint>Vezi formatul cerut <u style="cursor: pointer" #tooltip2="matTooltip" (click)="tooltip2.show()"
          matTooltip="Parola trebuie sa fie compusa din cel putin 8 caractere si trebuie sa contina minim o majuscula, o minuscula, o cifra si un caracter special ('!', '@', '#', etc.)">aici</u>
      </mat-hint>
      <mat-error *ngIf="password.invalid && password.touched">{{getFieldError(password)}}</mat-error>
    </mat-form-field>

    <button class="submit-button" mat-raised-button color="primary"
      [disabled]="profileForm.invalid || profileForm.pending">Inregistrare cont
      nou</button>
  </form>
</div>
